# Niuniu Plugin Configuration
# All hardcoded values extracted here for easy modification

# =============================================================================
# File Paths
# =============================================================================
PLUGIN_DIR = 'data/plugins/astrbot_plugin_niuniu'
NIUNIU_LENGTHS_FILE = 'data/niuniu_lengths.yml'
SIGN_DATA_FILE = 'data/sign_data.yml'
SHOP_CONFIG_FILE = f'{PLUGIN_DIR}/niuniu_shop.yml'
LAST_ACTION_FILE = f'{PLUGIN_DIR}/last_actions.yml'

# æ–‡æœ¬é…ç½®æ–‡ä»¶ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰
import os as _os
_PLUGIN_ROOT = _os.path.dirname(_os.path.abspath(__file__))
GAME_TEXTS_FILE = _os.path.join(_PLUGIN_ROOT, 'niuniu_game_texts.yml')

# =============================================================================
# General Settings
# =============================================================================
TIMEZONE = 'Asia/Shanghai'

# =============================================================================
# Cooldowns (in seconds)
# =============================================================================
class Cooldowns:
    DAJIAO_COOLDOWN = 600          # 10 minutes - dajiao cooldown
    DAJIAO_BONUS_THRESHOLD = 1200  # 20 minutes - after this, better rewards
    COMPARE_COOLDOWN = 600         # 10 minutes - compare cooldown per target
    COMPARE_LIMIT_WINDOW = 600     # 10 minutes - window for compare count limit
    COMPARE_LIMIT_COUNT = 3        # Max compares within window

    RUSH_COOLDOWN = 1800           # 30 minutes - cooldown between rushes
    RUSH_MIN_TIME = 600            # 10 minutes - minimum time to get reward
    RUSH_MAX_TIME = 43200          # 12 hours - maximum counted time
    RUSH_DAILY_LIMIT = 3           # Max rushes per day

    FLY_PLANE_COOLDOWN = 7200      # 2 hours - fly plane cooldown

# =============================================================================
# Dajiao (æ‰“èƒ¶) Configuration
# =============================================================================
class DajiaoConfig:
    # 10-30 minute window probabilities and ranges
    EARLY_INCREASE_CHANCE = 0.4    # 40% chance to increase
    EARLY_DECREASE_CHANCE = 0.3    # 30% chance to decrease (0.4 + 0.3 = 0.7)
    EARLY_INCREASE_MIN = 2
    EARLY_INCREASE_MAX = 10
    EARLY_DECREASE_MIN = 1
    EARLY_DECREASE_MAX = 3

    # After 30 minute probabilities and ranges
    LATE_INCREASE_CHANCE = 0.7     # 70% chance to increase
    LATE_DECREASE_CHANCE = 0.2     # 20% chance to decrease (0.7 + 0.2 = 0.9)
    LATE_INCREASE_MIN = 4
    LATE_INCREASE_MAX = 12
    LATE_DECREASE_MIN = 1
    LATE_DECREASE_MAX = 2
    LATE_HARDNESS_INCREASE = 1     # Hardness increase on success
    MAX_HARDNESS = 100             # Maximum hardness cap

# =============================================================================
# Dajiao Random Events Configuration
# =============================================================================
class DajiaoEvents:
    # éšæœºäº‹ä»¶æ¦‚ç‡
    CRITICAL_CHANCE = 0.03         # 3% æš´å‡» - å¢é•¿x3
    FUMBLE_CHANCE = 0.02           # 2% å¤±æ‰‹ - æŸå¤±x2
    HARDNESS_AWAKENING_CHANCE = 0.05  # 5% ç¡¬åº¦è§‰é†’ - +1~2ç¡¬åº¦
    COIN_DROP_CHANCE = 0.08        # 8% é‡‘å¸æ‰è½ - 10-30é‡‘å¸
    TIME_WARP_CHANCE = 0.02        # 2% æ—¶é—´æ‰­æ›² - é‡ç½®å†·å´
    INSPIRATION_CHANCE = 0.03      # 3% çµæ„Ÿè¿¸å‘ - ä¸‹æ¬¡å¿…æˆåŠŸ
    AUDIENCE_EFFECT_CHANCE = 0.05  # 5% è§‚ä¼—æ•ˆåº” - åŒæ–¹+1cm
    MYSTERIOUS_FORCE_CHANCE = 0.02 # 2% ç¥ç§˜åŠ›é‡ - éšæœºÂ±5~15cm

    # äº‹ä»¶å‚æ•°
    COIN_DROP_MIN = 10
    COIN_DROP_MAX = 30
    HARDNESS_AWAKENING_MIN = 1
    HARDNESS_AWAKENING_MAX = 2
    MYSTERIOUS_FORCE_MIN = 5
    MYSTERIOUS_FORCE_MAX = 15
    AUDIENCE_EFFECT_WINDOW = 300   # 5åˆ†é’Ÿå†…æœ‰äººæ‰“èƒ¶æ‰è§¦å‘

# =============================================================================
# Dajiao Combo Configuration
# =============================================================================
class DajiaoCombo:
    # è¿å‡»å¥–åŠ±é˜ˆå€¼å’Œå¥–åŠ±
    COMBO_3_THRESHOLD = 3
    COMBO_3_LENGTH_BONUS = 1

    COMBO_5_THRESHOLD = 5
    COMBO_5_LENGTH_BONUS = 2
    COMBO_5_COIN_BONUS = 5

    COMBO_10_THRESHOLD = 10
    COMBO_10_LENGTH_BONUS = 5
    COMBO_10_COIN_BONUS = 20
    COMBO_10_HARDNESS_BONUS = 1

# =============================================================================
# Dajiao Daily Bonus Configuration
# =============================================================================
class DailyBonus:
    FIRST_DAJIAO_LENGTH_BONUS = 2  # æ¯æ—¥é¦–æ¬¡æ‰“èƒ¶é¢å¤–+2cm

# =============================================================================
# Dajiao Time Period Configuration (24å°æ—¶æ—¶æ®µæ„ŸçŸ¥)
# =============================================================================
class TimePeriod:
    # æ—¶æ®µå®šä¹‰ (å°æ—¶èŒƒå›´, æ—¶æ®µåç§°, å¢ç›Šæ¦‚ç‡åŠ æˆ, é¢å¤–é•¿åº¦åŠ æˆ)
    PERIODS = {
        'morning_glory': {  # æ—©é—´æ—¶é—´
            'hours': (6, 9),
            'name': 'æ—©é—´æ—¶é—´',
            'success_bonus': 0.15,    # +15% æˆåŠŸç‡
            'length_bonus': 1,        # é¢å¤–+1cm
        },
        'work_time': {  # ä¸Šç­æ‘¸é±¼
            'hours': (9, 12),
            'name': 'æ‘¸é±¼æ—¶é—´',
            'success_bonus': 0,
            'length_bonus': 0,
        },
        'lunch_sleepy': {  # åˆåçŠ¯å›°
            'hours': (12, 14),
            'name': 'åˆåçŠ¯å›°',
            'success_bonus': -0.05,   # -5% æˆåŠŸç‡
            'length_bonus': 0,
        },
        'afternoon': {  # ä¸‹åˆ
            'hours': (14, 18),
            'name': 'ä¸‹åˆæ—¶å…‰',
            'success_bonus': 0,
            'length_bonus': 0,
        },
        'evening_vigor': {  # æ™šé—´ç²¾åŠ›æ—ºç››
            'hours': (18, 22),
            'name': 'ç²¾åŠ›æ—ºç››',
            'success_bonus': 0.1,     # +10% æˆåŠŸç‡
            'length_bonus': 0,
        },
        'late_night': {  # æ·±å¤œ
            'hours': (22, 24),
            'name': 'å¤œæ·±äººé™',
            'success_bonus': 0.05,    # +5% æˆåŠŸç‡
            'length_bonus': 0,
            'special_chance': 0.1,    # 10% è§¦å‘æ·±å¤œç‰¹æ®Šäº‹ä»¶
        },
        'midnight': {  # å‡Œæ™¨
            'hours': (0, 6),
            'name': 'ç†¬å¤œæ—¶é—´',
            'success_bonus': -0.05,   # -5% æˆåŠŸç‡
            'length_bonus': 0,
            'special_chance': 0.15,   # 15% è§¦å‘å‡Œæ™¨ç‰¹æ®Šäº‹ä»¶
        },
    }

# =============================================================================
# Compare (æ¯”åˆ’) Configuration
# =============================================================================
class CompareConfig:
    BASE_WIN_PROBABILITY = 0.5     # Base 50% win chance
    LENGTH_FACTOR_MAX = 0.2        # Length can affect up to 20% of win rate
    HARDNESS_FACTOR_PER_POINT = 0.05  # Each hardness point = 5% win rate
    MIN_WIN_PROBABILITY = 0.2      # Minimum win probability
    MAX_WIN_PROBABILITY = 0.8      # Maximum win probability

    WIN_GAIN_MIN = 0
    WIN_GAIN_MAX = 3
    WIN_LOSS_MIN = 1
    WIN_LOSS_MAX = 2

    LOSE_GAIN_MIN = 0
    LOSE_GAIN_MAX = 3
    LOSE_LOSS_MIN = 1
    LOSE_LOSS_MAX = 2

    HARDNESS_DECAY_CHANCE = 0.3    # 30% chance to lose hardness after compare

    # Special events
    DRAW_CHANCE = 0.075            # 7.5% chance for draw when lengths close
    DRAW_LENGTH_THRESHOLD = 5      # Length difference for draw chance

    TANGLE_CHANCE = 0.05           # 5% chance for tangle when hardness low
    TANGLE_HARDNESS_THRESHOLD = 2  # Hardness threshold for tangle

    HALVING_CHANCE = 0.025         # 2.5% chance for halving when lengths close
    HALVING_LENGTH_THRESHOLD = 10  # Length difference for halving chance

    # Underdog bonus
    UNDERDOG_LENGTH_THRESHOLD = 20
    UNDERDOG_EXTRA_GAIN_MIN = 0
    UNDERDOG_EXTRA_GAIN_MAX = 5

    # Plunder mechanics
    PLUNDER_LENGTH_THRESHOLD = 10
    PLUNDER_PERCENT = 0.2          # 20% plunder

    # Cuihuo item bonus
    CUIHUO_LENGTH_THRESHOLD = 10
    CUIHUO_PLUNDER_PERCENT = 0.1   # 10% extra plunder

# =============================================================================
# Compare Streak Configuration (è¿èƒœ/è¿è´¥ç³»ç»Ÿ)
# =============================================================================
class CompareStreak:
    # è¿èƒœå¥–åŠ±
    WIN_STREAK_THRESHOLD = 3       # 3è¿èƒœè§¦å‘
    WIN_STREAK_BONUS = 0.05        # +5% èƒœç‡

    # è¿è´¥ä¿æŠ¤
    LOSE_STREAK_THRESHOLD = 3      # 3è¿è´¥è§¦å‘
    LOSE_STREAK_BONUS = 0.10       # +10% èƒœç‡
    LOSE_STREAK_PROTECTION = True  # è¿è´¥æ—¶è¾“äº†ä¸æ‰£é•¿åº¦

# =============================================================================
# Compare Bet Configuration (èµŒæ³¨ç³»ç»Ÿ)
# =============================================================================
class CompareBet:
    MIN_BET = 10                   # æœ€å°èµŒæ³¨
    MAX_BET = 10000                # æœ€å¤§èµŒæ³¨
    WINNER_MULTIPLIER = 1.8        # èµ¢å®¶è·å¾—1.8å€èµŒæ³¨
    LOSER_REFUND = 0               # è¾“å®¶ä¸é€€è¿˜

# =============================================================================
# Compare Audience Configuration (å›´è§‚æ•ˆåº”)
# =============================================================================
class CompareAudience:
    TIME_WINDOW = 300              # 5åˆ†é’Ÿå†…
    MIN_COMPARES = 3               # è‡³å°‘3æ¬¡æ¯”åˆ’
    TRIGGER_CHANCE = 0.3           # 30% è§¦å‘æ¦‚ç‡

    # æ•ˆæœç±»å‹åŠæƒé‡
    EFFECT_WEIGHTS = {
        'bonus_length': 40,        # 40% åŠ é•¿åº¦ï¼ˆåŒæ–¹ï¼‰
        'penalty_length': 15,      # 15% å‡é•¿åº¦ï¼ˆåŒæ–¹ï¼Œå‰¯ä½œç”¨ï¼‰
        'bonus_coins': 20,         # 20% å¥–åŠ±é‡‘å¸ï¼ˆåŒæ–¹ï¼‰
        'group_bonus': 15,         # 15% ç¾¤å‹ç¦åˆ©ï¼ˆå…¨ç¾¤åŠ é‡‘å¸ï¼‰
        'group_penalty': 10,       # 10% ç¾¤å‹æƒ©ç½šï¼ˆå…¨ç¾¤å‡é•¿åº¦ï¼‰
    }

    # åŠ é•¿åº¦é…ç½®ï¼ˆåŒæ–¹ï¼‰
    BONUS_LENGTH_MIN = 1
    BONUS_LENGTH_MAX = 3

    # å‰¯ä½œç”¨ï¼šå‡é•¿åº¦é…ç½®ï¼ˆåŒæ–¹ï¼‰
    PENALTY_LENGTH_MIN = 1
    PENALTY_LENGTH_MAX = 2

    # é‡‘å¸å¥–åŠ±é…ç½®ï¼ˆåŒæ–¹ï¼‰
    BONUS_COINS_MIN = 20
    BONUS_COINS_MAX = 80

    # ç¾¤å‹ç¦åˆ©é…ç½®ï¼ˆå…¨ç¾¤æ³¨å†Œç”¨æˆ·ï¼‰
    GROUP_BONUS_COINS_MIN = 10
    GROUP_BONUS_COINS_MAX = 30

    # ç¾¤å‹æƒ©ç½šé…ç½®ï¼ˆå…¨ç¾¤å‡é•¿åº¦ï¼‰
    GROUP_PENALTY_LENGTH_MIN = 1
    GROUP_PENALTY_LENGTH_MAX = 3

# =============================================================================
# Registration Configuration
# =============================================================================
class RegisterConfig:
    MIN_LENGTH = 3
    MAX_LENGTH = 10
    INITIAL_HARDNESS = 1
    INITIAL_COINS = 0

# =============================================================================
# Fly Plane (é£é£æœº) Configuration
# =============================================================================
FLY_PLANE_EVENTS = [
    # ä½æ”¶ç›Š (20-50)
    {"desc": "ç‰›ç‰›æ²¡èµ¶ä¸Šé£æœºï¼Œä¸è¿‡ä¹Ÿç®—å‡ºæ¥é€äº†å£æ°”", "coins_min": 20, "coins_max": 40},
    {"desc": "ç‰›ç‰›åˆšå‡ºæ¥å°±é‡åˆ°äº†å†·ç©ºæ°”ï¼Œå†»å¾—åƒä¸ªé¹Œé¹‘ä¼¼çš„", "coins_min": 30, "coins_max": 50},
    {"desc": "é£æœºå»¶è¯¯äº†ï¼Œç‰›ç‰›åœ¨å€™æœºå…ç¡ç€äº†", "coins_min": 20, "coins_max": 35},
    {"desc": "ç‰›ç‰›åçš„æ˜¯å»‰ä»·èˆªç©ºï¼Œè…¿éƒ½ä¼¸ä¸å¼€", "coins_min": 25, "coins_max": 40},
    {"desc": "ç‰›ç‰›è¢«å®‰æ£€æ‹¦ä¸‹æ¥æ£€æŸ¥äº†åŠå¤©", "coins_min": 20, "coins_max": 30},
    {"desc": "ç‰›ç‰›çš„è¡Œæä¸¢äº†ï¼Œåªèƒ½ç©ºæ‰‹è€Œå½’", "coins_min": 15, "coins_max": 25},
    # ä¸­ç­‰æ”¶ç›Š (50-80)
    {"desc": "æ— æƒŠæ— é™©ï¼Œç‰›ç‰›é¡ºåˆ©æŠµè¾¾ç›®çš„åœ°", "coins_min": 60, "coins_max": 75},
    {"desc": "ç‰›ç‰›å¥½åƒåˆ°å¥‡æ€ªçš„åœ°æ–¹ï¼Œä¸è¿‡ä¹Ÿç®—æ˜¯å®Œæˆäº†ç›®æ ‡", "coins_min": 55, "coins_max": 70},
    {"desc": "ç‰›ç‰›åœ¨é£æœºä¸Šè®¤è¯†äº†æ–°æœ‹å‹ï¼Œæ”¶è·é¢‡ä¸°", "coins_min": 60, "coins_max": 80},
    {"desc": "é£è¡Œé€”ä¸­ç‰›ç‰›çœ‹äº†ä¸‰éƒ¨ç”µå½±ï¼Œå¿ƒæƒ…æ„‰æ‚¦", "coins_min": 50, "coins_max": 65},
    {"desc": "ç‰›ç‰›å¹¸è¿åœ°è¢«å‡èˆ±åˆ°å•†åŠ¡èˆ±", "coins_min": 65, "coins_max": 80},
    {"desc": "ç‰›ç‰›åœ¨å…ç¨åº—è¡€æ‹¼äº†ä¸€ç•ª", "coins_min": 55, "coins_max": 75},
    {"desc": "ç©ºå§å¯¹ç‰›ç‰›ç‰¹åˆ«ç…§é¡¾ï¼Œå…¨ç¨‹VIPå¾…é‡", "coins_min": 60, "coins_max": 80},
    # é«˜æ”¶ç›Š (80-120)
    {"desc": "ç«Ÿç„¶èµ¶ä¸Šäº†å›½é™…èˆªç­ï¼Œé‡åˆ°äº†å…´å¥‹çš„å¤§æ¯ç‰›", "coins_min": 85, "coins_max": 110},
    {"desc": "ç«Ÿç„¶èµ¶ä¸Šäº†æœ¬åœ°èˆªç­ï¼Œé‡åˆ°äº†å…´å¥‹çš„å¤§å…¬ç‰›", "coins_min": 85, "coins_max": 110},
    {"desc": "ç‰›ç‰›æ„å¤–å‘ç°é£æœºä¸Šæœ‰éšè—ä»»åŠ¡ï¼Œå¥–åŠ±ä¸°åš", "coins_min": 90, "coins_max": 120},
    {"desc": "ç‰›ç‰›è¢«é€‰ä¸­å‚åŠ æœºä¸ŠæŠ½å¥–ï¼Œä¸­äº†å¤§å¥–ï¼", "coins_min": 100, "coins_max": 130},
    {"desc": "ç‰›ç‰›å¸®åŠ©ç©ºä¹˜è§£å†³äº†ç´§æ€¥æƒ…å†µï¼Œè·å¾—æ„Ÿè°¢å¥–åŠ±", "coins_min": 85, "coins_max": 105},
    {"desc": "ç‰›ç‰›åœ¨å¤´ç­‰èˆ±å¶é‡ç¥ç§˜å¯Œå©†ï¼Œæ”¶è·æ»¡æ»¡", "coins_min": 95, "coins_max": 120},
    {"desc": "é£æœºç»è¿‡ç™¾æ…•å¤§ä¸‰è§’ï¼Œç‰›ç‰›è·å¾—äº†ç¥ç§˜åŠ›é‡åŠ æŒ", "coins_min": 80, "coins_max": 100},
    # ç‰¹æ®Šäº‹ä»¶ (æç«¯)
    {"desc": "ç‰›ç‰›çš„é£æœºè¿«é™åœ¨æ— äººå²›ï¼Œæ„å¤–å‘ç°å®è—ï¼", "coins_min": 120, "coins_max": 150},
    {"desc": "ç‰›ç‰›æˆåŠŸé˜»æ­¢äº†ä¸€åœºåŠ«æœºï¼Œæˆä¸ºè‹±é›„ï¼", "coins_min": 130, "coins_max": 160},
    {"desc": "ç‰›ç‰›ä¹°çš„æœºç¥¨ä¸­äº†èˆªç©ºå…¬å¸å¹´åº¦å¤§å¥–ï¼", "coins_min": 150, "coins_max": 200},
    {"desc": "ç‰›ç‰›ä¸å°å¿ƒèµ°è¿›äº†é©¾é©¶èˆ±ï¼Œè¢«æœºé•¿æ”¶ä¸ºå¾’å¼Ÿ", "coins_min": 100, "coins_max": 140},
    {"desc": "ç‰›ç‰›çš„åº§ä½ä¸‹é¢å‘ç°äº†å‰ä¹˜å®¢é—è½çš„é‡‘æ¡", "coins_min": 140, "coins_max": 180},
    # æç¬‘äº‹ä»¶
    {"desc": "ç‰›ç‰›æŠŠèŠ±ç”Ÿç±³å½“æˆäº†å®‰çœ è¯ï¼Œç¡äº†ä¸€è·¯", "coins_min": 40, "coins_max": 55},
    {"desc": "ç‰›ç‰›å’Œé‚»åº§å¤§å¦ˆèŠäº†ä¸€è·¯ï¼Œè€³æœµéƒ½å¿«è‹äº†", "coins_min": 35, "coins_max": 50},
    {"desc": "ç‰›ç‰›åœ¨é£æœºä¸Šæ‹‰è‚šå­ï¼Œå•æ‰€æ’äº†åŠå°æ—¶é˜Ÿ", "coins_min": 25, "coins_max": 40},
    {"desc": "ç‰›ç‰›è¢«å°å­©è¸¢äº†ä¸€è·¯æ¤…èƒŒï¼Œç²¾ç¥æŸå¤±æƒ¨é‡", "coins_min": 30, "coins_max": 45},
    {"desc": "ç‰›ç‰›æ—è¾¹åäº†ä¸ªæ‰“å‘¼å™œçš„ï¼Œä¸€è·¯æ²¡ç¡ç€", "coins_min": 35, "coins_max": 50},
    {"desc": "ç‰›ç‰›æ‰‹æœºæ²¡ç”µäº†ï¼Œæ•´è¶Ÿèˆªç­åªèƒ½å‘å‘†", "coins_min": 30, "coins_max": 45},
    # ç»ˆæäº‹ä»¶ (è¶…é«˜æ”¶ç›Š)
    {"desc": "âœˆï¸ ç‰›ç‰›çš„é£æœºç©¿è¶Šåˆ°äº†å¹³è¡Œå®‡å®™ï¼Œå¸¦å›äº†å¦ä¸€ä¸ªä¸–ç•Œçš„è´¢å¯Œï¼", "coins_min": 250, "coins_max": 350},
    {"desc": "ğŸ‘‘ ç‰›ç‰›æ„å¤–æˆä¸ºèˆªç©ºå…¬å¸ç¬¬ä¸€äº¿åä¹˜å®¢ï¼Œè·å¾—ç»ˆèº«å…è´¹æœºç¥¨+å·¨é¢å¥–é‡‘ï¼", "coins_min": 300, "coins_max": 400},
    # è´Ÿé¢äº‹ä»¶ (æ‰£é’±)
    {"desc": "ğŸ’¸ ç‰›ç‰›åœ¨é£æœºä¸Šæ‰“ç¿»äº†çº¢é…’ï¼Œèµ”äº†ä¸€å¤§ç¬”æ¸…æ´è´¹", "coins_min": -80, "coins_max": -50},
    {"desc": "ğŸš¨ ç‰›ç‰›è¢«å‘ç°è¶…é‡è¡Œæï¼Œè¢«ç½šæ¬¾äº†", "coins_min": -60, "coins_max": -30},
    {"desc": "ğŸ’€ ç‰›ç‰›ä¸å°å¿ƒæŸåäº†åº§æ¤…å±å¹•ï¼Œè¦èµ”å¿ï¼", "coins_min": -100, "coins_max": -60},
    {"desc": "ğŸ° ç‰›ç‰›åœ¨é£æœºä¸Šç©ç‰Œè¾“äº†ï¼Œè¾“ç»™åˆ«ç‰›ä¸€æ¡è£¤å­", "coins_min": -120, "coins_max": -70},
    {"desc": "ğŸ¤® ç‰›ç‰›æ™•æœºååœ¨äº†é‚»åº§èº«ä¸Šï¼Œè¢«ç´¢èµ”å¹²æ´—è´¹", "coins_min": -50, "coins_max": -20},
    {"desc": "ğŸ“± ç‰›ç‰›çš„æ‰‹æœºæ‰è¿›é©¬æ¡¶é‡Œäº†ï¼ŒæŸå¤±æƒ¨é‡", "coins_min": -70, "coins_max": -40},
    {"desc": "ğŸš” ç‰›ç‰›ä¸‹é£æœºæ—¶è¢«ç¨åŠ¡å±€æ‹¦ä½ï¼Œè¡¥äº¤äº†ä¸€å¤§ç¬”ç¨", "coins_min": -150, "coins_max": -80},
    {"desc": "ğŸ’” ç‰›ç‰›è¢«ç©ºå§å‘äº†å¥½ç‰›å¡ï¼Œç²¾ç¥å’Œé‡‘é’±åŒé‡æŸå¤±", "coins_min": -40, "coins_max": -20},
    {"desc": "ğŸ¦  ç‰›ç‰›åœ¨é£æœºä¸Šæ„ŸæŸ“äº†ç‰›æ„Ÿï¼ŒåŒ»è¯è´¹èŠ±å…‰äº†ç§¯è“„", "coins_min": -100, "coins_max": -50},
    {"desc": "âš ï¸ ç‰›ç‰›è¯¯è§¦ç´§æ€¥å‡ºå£ï¼Œè¢«ç½šäº†å·¨æ¬¾ï¼", "coins_min": -200, "coins_max": -100},
    # === æ–°å¢ææ€ªäº‹ä»¶ ===
    # å¥‡é‡æ­£é¢
    {"desc": "ğŸ­ ç‰›ç‰›è¢«è¯¯è®¤ä¸ºæ˜¯æŸæ˜æ˜Ÿï¼Œæ”¶åˆ°ç²‰ä¸é€çš„ç¤¼ç‰©", "coins_min": 70, "coins_max": 95},
    {"desc": "ğŸª ç‰›ç‰›åœ¨é£æœºä¸Šè¡¨æ¼”äº†ä¸€æ®µæ‰è‰ºï¼Œä¹˜å®¢ä»¬çº·çº·æ‰“èµ", "coins_min": 60, "coins_max": 85},
    {"desc": "ğŸ§² ç‰›ç‰›åœ¨åº§ä½ç¼é‡Œå‘ç°äº†åˆ«ç‰›è½ä¸‹çš„é’±åŒ…ï¼ˆå·²å½’è¿˜ï¼Œå¤±ä¸»ç»™äº†æ„Ÿè°¢è´¹ï¼‰", "coins_min": 80, "coins_max": 110},
    {"desc": "ğŸ® ç‰›ç‰›å’Œé‚»åº§æ‰“èµŒçŒœé£è¡Œæ—¶é—´ï¼Œèµ¢äº†ï¼", "coins_min": 50, "coins_max": 70},
    {"desc": "ğŸŒˆ ç‰›ç‰›åœ¨é«˜ç©ºçœ‹åˆ°äº†æå…‰ï¼Œæ‹ç…§å‘æœ‹å‹åœˆæ”¶è·æ— æ•°ç‚¹èµå’Œæ‰“èµ", "coins_min": 55, "coins_max": 75},
    {"desc": "ğŸ ç‰›ç‰›æ˜¯ä»Šå¤©ç¬¬888ä½ä¹˜å®¢ï¼Œè·å¾—å¹¸è¿ç¤¼åŒ…", "coins_min": 88, "coins_max": 128},
    {"desc": "ğŸ¾ ç‰›ç‰›å¸®ä¸€ä½è€å¥¶å¥¶æ‰¾åˆ°äº†èµ°ä¸¢çš„å°ç‹—ï¼Œè·å¾—ä¸°åšé…¬è°¢", "coins_min": 65, "coins_max": 90},
    {"desc": "ğŸ¤ æœºé•¿ç«Ÿç„¶æ˜¯ç‰›ç‰›çš„è€åŒå­¦ï¼Œç›´æ¥å®‰æ’å¤´ç­‰èˆ±å¾…é‡", "coins_min": 90, "coins_max": 120},
    {"desc": "ğŸ€ ç‰›ç‰›å‘ç°åº§æ¤…å£è¢‹é‡Œæœ‰ä¸Šä¸€ä½ä¹˜å®¢å¿˜è®°é¢†çš„åˆ®åˆ®ä¹ï¼Œä¸­äº†ï¼", "coins_min": 100, "coins_max": 150},
    {"desc": "ğŸ¯ ç‰›ç‰›ç²¾å‡†é¢„æµ‹äº†èˆªç­åˆ°è¾¾æ—¶é—´ï¼Œèˆªç©ºå…¬å¸å¥–åŠ±ç§¯åˆ†å…‘æ¢ç°é‡‘", "coins_min": 45, "coins_max": 65},
    {"desc": "ğŸ¦¸ ç‰›ç‰›å¸®ç©ºå§åˆ¶æœäº†ä¸€ä¸ªé—¹äº‹ä¹˜å®¢ï¼Œè·å¾—è‹±é›„å¥–åŠ±", "coins_min": 110, "coins_max": 140},
    {"desc": "ğŸ“º èˆªç­å¨±ä¹ç³»ç»Ÿæ•…éšœï¼Œç‰›ç‰›ç”¨æ‰‹æœºç»™å¤§å®¶æ”¾ç”µå½±ï¼Œæ”¶åˆ°æ„Ÿè°¢è´¹", "coins_min": 40, "coins_max": 60},
    {"desc": "ğŸ§© ç‰›ç‰›åœ¨é£æœºä¸Šå®Œæˆäº†ä¸€ä¸ªè¶…éš¾æ‹¼å›¾ï¼Œé‚»åº§åœŸè±ªè§‰å¾—æœ‰è¶£ä¹°ä¸‹äº†å®ƒ", "coins_min": 75, "coins_max": 100},
    {"desc": "ğŸ‚ ä»Šå¤©æ˜¯ç‰›ç‰›ç”Ÿæ—¥ï¼Œæœºç»„é€ä¸ŠæƒŠå–œè›‹ç³•å’Œç”Ÿæ—¥ç¤¼é‡‘", "coins_min": 80, "coins_max": 110},
    {"desc": "ğŸ’¤ ç‰›ç‰›ç¡ç€åè¯´æ¢¦è¯ï¼Œç«Ÿç„¶è¯´ä¸­äº†å½©ç¥¨å·ç ï¼ï¼ˆé‚»åº§åˆ†çº¢ï¼‰", "coins_min": 120, "coins_max": 160},
    # æç¬‘ä¸­æ€§åæ­£
    {"desc": "ğŸ” ç‰›ç‰›çš„é£æœºé¤å±…ç„¶æ˜¯æ»¡æ±‰å…¨å¸­ï¼ŸåŸæ¥æ˜¯å¨å¸ˆæé”™äº†", "coins_min": 50, "coins_max": 70},
    {"desc": "ğŸ‘» ç‰›ç‰›å‡è£…ç¡ç€èº²è¿‡äº†æ¨é”€ä¿¡ç”¨å¡çš„ç©ºå§ï¼Œçœä¸‹æ—¶é—´åˆ·å‰¯ä¸š", "coins_min": 35, "coins_max": 55},
    {"desc": "ğŸµ ç‰›ç‰›è€³æœºåäº†ï¼Œåªèƒ½å¬é£æœºå¼•æ“å£°ï¼Œç«Ÿç„¶æ‚Ÿå‡ºäº†æ–°çš„èµšé’±æ€è·¯", "coins_min": 60, "coins_max": 85},
    {"desc": "ğŸ¤¡ ç‰›ç‰›æŠŠå®‰å…¨æ¼”ç¤ºçœ‹æˆäº†å–œå‰§è¡¨æ¼”ï¼Œç¬‘å‡ºäº†è…¹è‚Œ", "coins_min": 30, "coins_max": 50},
    {"desc": "ğŸŒ™ ç‰›ç‰›åœ¨é£æœºä¸Šåšäº†ä¸ªå‘è´¢æ¢¦ï¼Œé†’æ¥å‘ç°çœŸçš„æœ‰äººç»™è‡ªå·±è½¬è´¦äº†", "coins_min": 70, "coins_max": 100},
    {"desc": "ğŸ“– ç‰›ç‰›çœ‹å®Œäº†ä¸€æœ¬ç†è´¢ä¹¦ï¼Œä¸‹é£æœºç«‹åˆ»èµšåˆ°äº†ç¬¬ä¸€æ¡¶é‡‘", "coins_min": 55, "coins_max": 80},
    {"desc": "ğŸ² ç‰›ç‰›å’Œç©ºå°‘ç©çŸ³å¤´å‰ªåˆ€å¸ƒï¼Œè¿èµ¢åå±€è·å¾—ç¥ç§˜å¥–å“", "coins_min": 65, "coins_max": 90},
    {"desc": "ğŸ§˜ ç‰›ç‰›åœ¨é£æœºä¸Šå†¥æƒ³ï¼Œæ‚Ÿåˆ°äº†äººç”Ÿçš„çœŸè°›ï¼ˆé¡ºä¾¿æ¥äº†ä¸ªç§å•ï¼‰", "coins_min": 45, "coins_max": 70},
    # æç¬‘è´Ÿé¢
    {"desc": "ğŸ¦· ç‰›ç‰›åƒé£æœºé¤å¤ªçŒ›ï¼ŒæŠŠå‡ç‰™åä¸‹å»äº†ï¼ŒåŒ»ç–—è´¹çˆ†è¡¨", "coins_min": -90, "coins_max": -50},
    {"desc": "ğŸª ç‰›ç‰›åœ¨é£æœºä¸Šæ”¾äº†ä¸ªå“å±ï¼Œè¢«è¦æ±‚æ¢åº§+ç²¾ç¥æŸå¤±è´¹", "coins_min": -30, "coins_max": -10},
    {"desc": "ğŸ‘” ç‰›ç‰›è¥¿è£…è¢«é‚»åº§å°å­©ç”»æ»¡äº†èœ¡ç¬”ç”»ï¼Œå¹²æ´—è´¹æ„Ÿäºº", "coins_min": -45, "coins_max": -25},
    {"desc": "ğŸ· ç‰›ç‰›å–å¤šäº†åœ¨é£æœºä¸Šå”±æ­Œï¼Œè¢«ç½šæ¬¾æ‰°æ°‘è´¹", "coins_min": -55, "coins_max": -30},
    {"desc": "ğŸ­ ç‰›ç‰›æ¨¡ä»¿æœºé•¿å¹¿æ’­è¢«æŠ•è¯‰ï¼Œèµ”ç¤¼é“æ­‰+ç½šæ¬¾", "coins_min": -70, "coins_max": -40},
    # ç¥ç§˜äº‹ä»¶
    {"desc": "ğŸ‘½ ç‰›ç‰›å£°ç§°çœ‹åˆ°äº†UFOï¼Œè™½ç„¶æ²¡äººä¿¡ä½†ç›´æ’­é—´æ¶¨äº†ä¸å°‘ç²‰", "coins_min": 85, "coins_max": 115},
    {"desc": "ğŸ”® é£æœºä¸Šçš„ç®—å‘½å…ˆç”Ÿè¯´ç‰›ç‰›æœ‰è´¢è¿ï¼Œæœç„¶ä¸‹æœºå°±æ¡åˆ°é’±", "coins_min": 40, "coins_max": 60},
    {"desc": "ğŸŒ€ ç‰›ç‰›çš„é£æœºç©¿è¿‡ç¥ç§˜äº‘å±‚ï¼Œç‰›ç‰›æ„Ÿè§‰æ—¶é—´å˜æ…¢äº†ï¼Œå¤šèµšäº†å‡ å°æ—¶å·¥èµ„", "coins_min": 95, "coins_max": 130},
    {"desc": "ğŸ° ç‰›ç‰›åœ¨é£æœºä¸Šåˆ®å½©ç¥¨ï¼Œä¸‰ç­‰å¥–ï¼", "coins_min": 150, "coins_max": 200},
    {"desc": "ğŸ—ï¸ ç‰›ç‰›åœ¨æ´—æ‰‹é—´æ¡åˆ°ä¸€æŠŠç¥ç§˜é’¥åŒ™ï¼Œåæ¥å‘ç°æ˜¯æŸä¸ªå¯„å­˜æŸœçš„", "coins_min": 180, "coins_max": 250}
]

# =============================================================================
# Rush (å¼€å†²) Configuration
# =============================================================================
class RushConfig:
    COINS_PER_MINUTE = 1           # Coins earned per minute
    MAX_COINS = 600                # Maximum base coins per rush (before bonus)

# =============================================================================
# Shop Items Configuration
# =============================================================================
DEFAULT_SHOP_ITEMS = [
    {
        'id': 1,
        'name': "å·´é»ç‰›å®¶",
        'type': 'active',
        'desc': "ç«‹å³å¢åŠ 10ç‚¹ç¡¬åº¦ï¼Œä½†ä¼šéšæœºç¼©çŸ­1-10%é•¿åº¦",
        'price': 200
    },
    {
        'id': 2,
        'name': "å¦™è„†è§’",
        'type': 'passive',
        'max': 3,
        'desc': "é˜²æ­¢ä¸€æ¬¡é•¿åº¦å‡åŠ",
        'price': 70
    },
    {
        'id': 3,
        'name': "æ·¬ç«çˆªåˆ€",
        'type': 'passive',
        'max': 3,
        'desc': "è§¦å‘æ å¤ºæ—¶ï¼Œé¢å¤–æ å¤º10%é•¿åº¦å’Œ10%ç¡¬åº¦",
        'price': 100
    },
    {
        'id': 4,
        'name': "è‡´å‘½èŠ‚å¥",
        'type': 'passive',
        'max': 20,
        'quantity': 5,
        'desc': "çŸ­æ—¶é—´å†…å¤šæ¬¡æ‰“èƒ¶æˆ–æ¯”åˆ’ï¼ŒåŒæ—¶ä¸å—20åˆ†é’Ÿå†…è¿ç»­æ‰“èƒ¶çš„debuff",
        'price': 100
    },
    {
        'id': 5,
        'name': "å¤ºç‰›é­”èŒèšªç½å¤´",
        'type': 'passive',
        'max': 1,
        'desc': "æ¯”åˆ’æ—¶è§¦å‘ï¼š50%å¤ºå–å…¨éƒ¨é•¿åº¦+ç¡¬åº¦ï½œ20%æ··æ²Œé£æš´ï½œ20%å¤§è‡ªçˆ†ï½œ10%è‡ªçˆ†å½’é›¶",
        'price': 600
    },
    {
        'id': 6,
        'name': "èµŒå¾’ç¡¬å¸",
        'type': 'active',
        'desc': "æŠ›ç¡¬å¸ï¼50%ç¿»å€/48%å‡åŠ/1%å¤´ç­‰å¥–(å˜4å€)/1%éœ‰è¿(å˜è´Ÿ2å€)",
        'price': 50
    },
    {
        'id': 7,
        'name': "åŠ«å¯Œæµè´«",
        'type': 'active',
        'desc': "ä»æ’åç¬¬ä¸€çš„ç‰›ç‰›æ‰‹ä¸­æŠ¢50%é•¿åº¦å’Œ20%ç¡¬åº¦ï¼Œå¹³åˆ†ç»™éšæœº3äººï¼ˆå¯èƒ½åŒ…æ‹¬è‡ªå·±ï¼Œä½†ä¸ä¼šç»™é¦–å¯Œï¼‰",
        'price': 600
    },
    {
        'id': 8,
        'name': "æ··æ²Œé£æš´",
        'type': 'active',
        'desc': "éšæœºé€‰10äººï¼Œæ¯äººè§¦å‘ä¸€ä¸ªå¥‡æ€ªäº‹ä»¶ï¼",
        'price': 500
    },
    {
        'id': 9,
        'name': "ç‰›ç‰›ç›¾ç‰Œ",
        'type': 'active',
        'desc': "âš ï¸è´­ä¹°åä¼šæ‰£é™¤å½“å‰50%é•¿åº¦å’Œç¡¬åº¦ï¼è·å¾—3å±‚ç›¾ç‰Œï¼šæ¯å±‚æ¶ˆè€—åå®Œå…¨å…ç–«åŠ«å¯Œæµè´«/æ··æ²Œé£æš´/æœˆç‰™å¤©å†²/è¢«åˆ«äººå¤§è‡ªçˆ†ï¼›æ¯å±‚æ¶ˆè€—åå‡å…å¤ºç‰›é­”10%ä¼¤å®³",
        'price': 500
    },
    {
        'id': 10,
        'name': "ç©·ç‰›ä¸€ç”Ÿ",
        'type': 'active',
        'desc': "ä¾¿å®œçš„ç›²ç›’ï¼éšæœºæ”¹å˜é•¿åº¦å’Œç¡¬åº¦",
        'price': 25
    },
    {
        'id': 11,
        'name': "æœˆç‰™å¤©å†²",
        'type': 'active',
        'desc': "éšæœºé€‰ä¸€ä½ç¾¤å‹ï¼ŒåŒæ–¹åŒæ—¶æŸå¤±å‘èµ·äºº50%çš„é•¿åº¦ï¼å¯æŠŠäººå†²æˆè´Ÿæ•°ï¼",
        'price': 300
    },
    {
        'id': 12,
        'name': "ç‰›ç‰›å¤§è‡ªçˆ†",
        'type': 'active',
        'desc': "è‡ªå·±å½’é›¶ï¼ŒæŸå¤±çš„é•¿åº¦/ç¡¬åº¦éšæœºæ‰£åˆ°top3å¤´ä¸Šï¼åŒå½’äºå°½ï¼",
        'price': 250
    },
    {
        'id': 13,
        'name': "ç¥¸æ°´ä¸œå¼•",
        'type': 'active',
        'desc': "è·å¾—1æ¬¡è½¬å«ï¼Œå—åˆ°>=50cmé•¿åº¦ä¼¤å®³æ—¶è½¬ç»™éšæœºç¾¤å‹ï¼ï¼ˆæ— æ³•è½¬ç§»å¤ºç‰›é­”ï¼‰",
        'price': 250
    },
    {
        'id': 14,
        'name': "ä¸Šä¿é™©",
        'type': 'active',
        'desc': "è·å¾—10æ¬¡ç†èµ”æœºä¼šï¼ŒæŸå¤±>=50cmæˆ–ç¡¬åº¦>=10æ—¶èµ”ä»˜200é‡‘å¸ï¼è‡ªæ®‹ç±»ä¸èµ”",
        'price': 1000
    },
    {
        'id': 15,
        'name': "ç»å¯¹å€¼ï¼",
        'type': 'active',
        'desc': "ä»…é™è´Ÿæ•°ç‰›ç‰›ï¼èŠ±è´¹=|é•¿åº¦|Ã—0.1é‡‘å¸ï¼ŒæŠŠè´Ÿæ•°å–ç»å¯¹å€¼ç¿»èº«ï¼",
        'price': 0,  # åŠ¨æ€å®šä»·ï¼Œå®é™…ä»·æ ¼åœ¨æ•ˆæœä¸­è®¡ç®—
        'dynamic_price': True
    },
    {
        'id': 16,
        'name': "å°è“ç‰‡",
        'type': 'passive',
        'max': 5,
        'desc': "ä¸‹ä¸€æ¬¡æ¯”åˆ’æ—¶ç¡¬åº¦è§†ä¸º100",
        'price': 200
    },
    {
        'id': 17,
        'name': "ç‰›ç‰›é»‘æ´",
        'type': 'active',
        'desc': "å¬å”¤é»‘æ´å¸å–5-15äººå„3-10%é•¿åº¦ï¼40%å½’ä½ /30%å–·å°„è·¯äºº/20%åå™¬è‡ªå·±/10%åƒæ’‘åå–·",
        'price': 300
    },
    {
        'id': 18,
        'name': "ç‰›ç‰›å¯„ç”Ÿ",
        'type': 'active',
        'desc': "åœ¨æŒ‡å®šç¾¤å‹èº«ä¸Šç§ä¸‹å¯„ç”Ÿç‰›ç‰›ï¼å®¿ä¸»æ¯æ¬¡å¢é•¿>5%æ—¶ï¼ŒæŠ½å–5%é•¿åº¦å’Œç¡¬åº¦ç»™ä½ ï¼ç”¨æ³•ï¼šç‰›ç‰›è´­ä¹° 18 @ç›®æ ‡",
        'price': 150
    },
    {
        'id': 19,
        'name': "é©±ç‰›è¯",
        'type': 'active',
        'desc': "æ¸…é™¤å¯„ç”Ÿåœ¨è‡ªå·±èº«ä¸Šçš„å¯„ç”Ÿç‰›ç‰›ï¼Œé‡è·è‡ªç”±ï¼",
        'price': 75
    },
    {
        'id': 20,
        'name': "ç‰›ç‰›å‡å¯Œ/è´Ÿå¡",
        'type': 'active',
        'desc': "å‘åŠ¨å…±äº§ä¸»ä¹‰ï¼å…¨ç¾¤æ‰€æœ‰ç‰›ç‰›é•¿åº¦å’Œç¡¬åº¦å–å¹³å‡å€¼ï¼å¤§ä½¬å“­æ™•ï¼Œè´Ÿæ•°ç‹‚å–œï¼",
        'price': 1888
    }
]

# ä¸‹æ¶é“å…·ç»Ÿä¸€é€€æ¬¾é‡‘é¢
DELETED_ITEM_REFUND = 50

# =============================================================================
# ç¥¸æ°´ä¸œå¼• Configuration
# =============================================================================
class HuoshuiDongyinConfig:
    DAMAGE_THRESHOLD = 50              # é•¿åº¦ä¼¤å®³>=50cmæ‰è§¦å‘è½¬å«

# =============================================================================
# ä¸Šä¿é™© Configuration
# =============================================================================
class ShangbaoxianConfig:
    CHARGES = 10                       # 10æ¬¡ä¿é™©
    LENGTH_THRESHOLD = 50              # é•¿åº¦æŸå¤±>=50cmè§¦å‘
    HARDNESS_THRESHOLD = 10            # ç¡¬åº¦æŸå¤±>=10è§¦å‘
    PAYOUT = 200                       # èµ”ä»˜200é‡‘å¸
    # ä¸»åŠ¨è‡ªæ®‹ç±»é“å…·ï¼Œä¸è§¦å‘ä¿é™©ç†èµ”
    INTENTIONAL_SELF_HURT_ITEMS = [
        "ç‰›ç‰›å¤§è‡ªçˆ†",
        "æœˆç‰™å¤©å†²",
    ]

# =============================================================================
# ç‰›ç‰›å¤§è‡ªçˆ† Configuration
# =============================================================================
class DazibaoConfig:
    TOP_N = 3                          # å½±å“top3
    MIN_PLAYERS = 2                    # æœ€å°‘éœ€è¦2äºº

# =============================================================================
# æœˆç‰™å¤©å†² Configuration
# =============================================================================
class YueyaTianchongConfig:
    DAMAGE_PERCENT_MIN = 0.50          # æœ€å°ä¼¤å®³ 50%
    DAMAGE_PERCENT_MAX = 0.50          # æœ€å¤§ä¼¤å®³ 50%
    MIN_PLAYERS = 2                    # æœ€å°‘éœ€è¦2äººï¼ˆè‡ªå·±+1ä¸ªç›®æ ‡ï¼‰

# =============================================================================
# ç‰›ç‰›ç›¾ç‰Œ Configuration
# =============================================================================
class NiuniuDunpaiConfig:
    SHIELD_CHARGES = 3                 # æ¯ä¸ªç‰›ç‰›ç›¾ç‰Œæä¾›3æ¬¡æŠ¤ç›¾

# =============================================================================
# ç©·ç‰›ä¸€ç”Ÿ Configuration (æœŸæœ›å€¼ç•¥æ­£çš„èµŒåšé“å…·)
# =============================================================================
class QiongniuYishengConfig:
    # ç»“æœæ¦‚ç‡åˆ†å¸ƒ (æ€»å’Œ=1.0)
    # æœŸæœ›é•¿åº¦: 0.45*(-4) + 0.30*(+4.5) + 0.20*(+9) + 0.05*(+20) â‰ˆ +1.55cm
    # æœŸæœ›ç¡¬åº¦: 0.45*(-0.5) + 0.30*(0) + 0.20*(+1) + 0.05*(+2) â‰ˆ -0.025
    OUTCOMES = [
        {
            'name': 'bad',
            'chance': 0.45,           # 45% å€’éœ‰
            'length_min': -6,
            'length_max': -2,
            'hardness_min': -1,
            'hardness_max': 0,
        },
        {
            'name': 'neutral',
            'chance': 0.30,           # 30% å°èµš
            'length_min': 3,
            'length_max': 6,
            'hardness_min': 0,
            'hardness_max': 0,
        },
        {
            'name': 'good',
            'chance': 0.20,           # 20% ä¸é”™
            'length_min': 6,
            'length_max': 12,
            'hardness_min': 1,
            'hardness_max': 1,
        },
        {
            'name': 'jackpot',
            'chance': 0.05,           # 5% å¤§å¥–
            'length_min': 15,
            'length_max': 25,
            'hardness_min': 2,
            'hardness_max': 2,
        },
    ]

# =============================================================================
# æ··æ²Œé£æš´ Configuration
# =============================================================================
class HundunFengbaoConfig:
    MAX_TARGETS = 10               # æœ€å¤šå½±å“10äºº
    MIN_PLAYERS = 3                # æœ€å°‘éœ€è¦3äººæ‰èƒ½è§¦å‘
    # æ··æ²Œäº‹ä»¶åˆ—è¡¨ (æƒé‡, äº‹ä»¶ID, äº‹ä»¶æè¿°æ¨¡æ¿, å‚æ•°)
    CHAOS_EVENTS = [
        # åŸºç¡€äº‹ä»¶
        (15, 'length_up', 'é•¿åº¦+{value}cm', {'min': 5, 'max': 20}),
        (15, 'length_down', 'é•¿åº¦-{value}cm', {'min': 3, 'max': 15}),
        (10, 'hardness_up', 'ç¡¬åº¦+{value}', {'min': 1, 'max': 2}),
        (10, 'hardness_down', 'ç¡¬åº¦-{value}', {'min': 1, 'max': 2}),
        (8, 'coin_gain', 'æ¡åˆ°{value}é‡‘å¸', {'min': 20, 'max': 80}),
        (8, 'coin_lose', 'ä¸¢å¤±{value}é‡‘å¸', {'min': 10, 'max': 50}),
        (5, 'length_percent_up', 'é•¿åº¦+{value}%', {'min': 10, 'max': 25}),
        (5, 'length_percent_down', 'é•¿åº¦-{value}%', {'min': 5, 'max': 20}),
        (4, 'swap_random', 'ä¸{target}äº¤æ¢äº†é•¿åº¦ï¼', {}),
        (3, 'double_or_nothing', 'é•¿åº¦ç¿»å€ï¼+{value}cm', {}),
        (3, 'halve', 'é•¿åº¦å‡åŠï¼-{value}cm', {}),
        (3, 'hardness_reset', 'ç¡¬åº¦é‡ç½®ä¸º{value}', {'min': 1, 'max': 10}),
        (2, 'steal_from_random', 'å·èµ°{target}çš„{value}cm', {'min': 5, 'max': 15}),
        (2, 'give_to_random', 'é€ç»™{target} {value}cm', {'min': 3, 'max': 10}),
        (5, 'nothing', 'å•¥ä¹Ÿæ²¡å‘ç”Ÿ...', {}),
        (2, 'reverse_sign', 'é•¿åº¦æ­£è´Ÿåè½¬ï¼{old}â†’{new}cm', {}),
        # æ–°å¢äº‹ä»¶
        (3, 'full_swap', 'ä¸{target}äº¤æ¢äº†å…¨éƒ¨å±æ€§ï¼', {}),  # é•¿åº¦+ç¡¬åº¦äº’æ¢
        (2, 'cooldown_reset', 'æ‰“èƒ¶å†·å´æ¸…é›¶ï¼', {}),  # é‡ç½®æ‰“èƒ¶CD
        (2, 'chaos_chain', 'æ··æ²Œè¿é”ï¼è§¦å‘åŒé‡äº‹ä»¶ï¼', {}),  # è§¦å‘2ä¸ªäº‹ä»¶
        (3, 'hardness_to_length', 'ç¡¬åº¦è½¬åŒ–ä¸ºé•¿åº¦ï¼{h}ç¡¬åº¦â†’{l}cm', {}),  # ç¡¬åº¦å˜é•¿åº¦
        (3, 'length_to_hardness', 'é•¿åº¦è½¬åŒ–ä¸ºç¡¬åº¦ï¼{l}cmâ†’{h}ç¡¬åº¦', {}),  # é•¿åº¦å˜ç¡¬åº¦
        (1, 'chaos_tax', 'è¢«æ··æ²Œæ”¶ç¨ï¼-5%é•¿åº¦', {}),  # äº¤5%ç»™ä½¿ç”¨è€…
        (2, 'clone_length', 'å…‹éš†äº†{target}çš„é•¿åº¦ï¼', {}),  # å¤åˆ¶åˆ«äººé•¿åº¦
        (2, 'lucky_buff', 'è·å¾—å¹¸è¿ç¥ç¦ï¼ä¸‹æ¬¡æ‰“èƒ¶å¿…å¢é•¿ï¼', {}),  # ä¸‹æ¬¡æ‰“èƒ¶å¿…æˆåŠŸ
        (3, 'length_quake', 'é•¿åº¦éœ‡è¡ï¼{change}cm', {'min': -30, 'max': 30}),  # å¤§å¹…éšæœºæ³¢åŠ¨
        # æ›´æœ‰è¶£çš„äº‹ä»¶
        (2, 'quantum_entangle', 'ä¸{target}é‡å­çº ç¼ ï¼åŒæ–¹é•¿åº¦å¹³å‡åŒ–ï¼', {}),  # åŒæ–¹å–å¹³å‡
        (2, 'dark_sacrifice', 'é»‘æš—çŒ®ç¥­ï¼ç‰ºç‰²{loss}cmï¼Œ{target}è·å¾—{gain}cmï¼', {}),  # ç‰ºç‰²è‡ªå·±ç»™åˆ«äººÃ—3
        (3, 'resurrection', 'ç‰›ç‰›å¤æ´»ï¼', {'min': 20, 'max': 50}),  # è´Ÿæ•°å˜æ­£æ•°
        (1, 'doomsday', 'ã€æœ«æ—¥å®¡åˆ¤ã€‘æœ€çŸ­å½’é›¶ï¼Œæœ€é•¿ç¿»å€ï¼', {}),  # å…¨å±€äº‹ä»¶
        (1, 'roulette', 'ã€è½®ç›˜é‡ç½®ã€‘æ‰€æœ‰äººé•¿åº¦é‡æ–°æ´—ç‰Œï¼', {}),  # å…¨å±€äº‹ä»¶
        (1, 'reverse_talent', 'ã€åå‘å¤©èµ‹ã€‘æœ€é•¿å’Œæœ€çŸ­äº’æ¢ï¼', {}),  # å…¨å±€äº‹ä»¶
        (1, 'lottery_bomb', 'ã€å›¢ç­å½©ç¥¨ã€‘5%å…¨ä½“ç¿»å€ï¼Œ95%å…¨ä½“-50%é•¿åº¦å’Œç¡¬åº¦ï¼', {}),  # å…¨å±€äº‹ä»¶
        (2, 'parasite', 'åœ¨{target}èº«ä¸Šç§ä¸‹å¯„ç”Ÿè™«ï¼ä»–ä¸‹æ¬¡æ‰“èƒ¶ä½ ä¹Ÿ+åŒç­‰ï¼', {}),  # æŒä¹…æ•ˆæœ
    ]

# =============================================================================
# åŠ«å¯Œæµè´« Configuration
# =============================================================================
class JiefuJipinConfig:
    STEAL_LENGTH_PERCENT = 0.50    # 50% length from richest
    STEAL_HARDNESS_PERCENT = 0.20  # 20% hardness from richest
    BENEFICIARY_COUNT = 3          # Give to random 3 (excluding richest)

# =============================================================================
# Duoxinmo Item Probabilities
# =============================================================================
class DuoxinmoConfig:
    STEAL_ALL_CHANCE = 0.5         # 50% chance to steal all length + hardness
    CHAOS_STORM_CHANCE = 0.2       # 20% chance to trigger chaos storm (0.5 + 0.2 = 0.7)
    DAZIBAO_CHANCE = 0.2           # 20% chance to trigger dazibao (0.7 + 0.2 = 0.9)
    SELF_CLEAR_CHANCE = 0.1        # 10% chance to clear self (0.9 + 0.1 = 1.0)

# =============================================================================
# ç‰›ç‰›é»‘æ´ Configuration
# =============================================================================
class HeidongConfig:
    MIN_TARGETS = 5                # æœ€å°‘å¸å–5äºº
    MAX_TARGETS = 15               # æœ€å¤šå¸å–15äºº
    STEAL_PERCENT_MIN = 0.03       # æ¯äººæœ€å°‘å¸3%
    STEAL_PERCENT_MAX = 0.10       # æ¯äººæœ€å¤šå¸10%
    MIN_PLAYERS = 3                # æœ€å°‘éœ€è¦3äººæ‰èƒ½ä½¿ç”¨

    # ç»“æœæ¦‚ç‡
    RESULT_ALL_TO_USER = 0.40      # 40% å…¨å½’ä½¿ç”¨è€…
    RESULT_HALF_SPRAY = 0.30       # 30% ä¸€åŠå–·ç»™è·¯äºº
    RESULT_BACKFIRE = 0.20         # 20% åå™¬è‡ªå·±
    RESULT_REVERSE = 0.10          # 10% åƒæ’‘åå–·ï¼ˆæ‰€æœ‰äººåè€Œå˜é•¿ï¼‰

    BACKFIRE_PERCENT = 0.15        # åå™¬æŸå¤±è‡ªèº«15%é•¿åº¦

# =============================================================================
# ç‰›ç‰›å¯„ç”Ÿ Configuration
# =============================================================================
class NiuniuJishengConfig:
    MIN_PLAYERS = 2                    # æœ€å°‘éœ€è¦2äººï¼ˆè‡ªå·±+1ä¸ªå®¿ä¸»ï¼‰
    TRIGGER_THRESHOLD = 0.05           # 5% - å®¿ä¸»å¢é•¿è¶…è¿‡è‡ªèº«ç»å¯¹å€¼5%æ—¶è§¦å‘
    DRAIN_LENGTH_PERCENT = 0.05        # æŠ½å–å®¿ä¸»5%ç»å¯¹å€¼é•¿åº¦
    DRAIN_HARDNESS_PERCENT = 0.05      # æŠ½å–å®¿ä¸»5%ç¡¬åº¦

    # æˆåŠŸç§æ¤æ–‡æ¡ˆ
    PARASITE_TEXTS = [
        "ğŸ¯ ä½ åœ¨ {host_name} èº«ä¸Šç§ä¸‹äº†å¯„ç”Ÿç‰›ç‰›ï¼æ¯å½“ä»–å¢é•¿>5%æ—¶ï¼Œä½ å°†å¸å–ä»–çš„ç²¾åï¼",
        "ğŸ˜ˆ å¯„ç”Ÿç‰›ç‰›å·²æ½œå…¥ {host_name} ä½“å†…ï¼ä»–çš„æ¯ä¸€æ¬¡æˆé•¿éƒ½å°†åå“ºäºä½ ï¼",
        "ğŸŒ± {host_name} æˆä¸ºäº†ä½ çš„å®¿ä¸»ï¼å½“ä»–èŒå£®æˆé•¿æ—¶ï¼Œä½ ä¹Ÿä¼šåˆ†ä¸€æ¯ç¾¹ï¼",
        "ğŸ”— ä½ ä¸ {host_name} å»ºç«‹äº†å¯„ç”Ÿè¿æ¥ï¼ä»–çš„åŠªåŠ›ï¼Œä½ çš„æ”¶è·ï¼",
    ]

    # è¦†ç›–æ—§å¯„ç”Ÿçš„æ–‡æ¡ˆï¼ˆæŠŠæ—§å¯„ç”Ÿç‰›ç‰›è¸¢èµ°ï¼‰
    OVERRIDE_TEXTS = [
        "âš”ï¸ ä½ çš„å¯„ç”Ÿç‰›ç‰›æŠŠ {old_beneficiary_name} çš„å¯„ç”Ÿç‰›ç‰›ä» {host_name} èº«ä¸Šè¸¢äº†å‡ºå»ï¼",
        "ğŸ‘Š {old_beneficiary_name} çš„å¯„ç”Ÿç‰›ç‰›è¢«ä½ çš„å¯„ç”Ÿç‰›ç‰›é©±é€äº†ï¼{host_name} ç°åœ¨æ˜¯ä½ çš„å®¿ä¸»ï¼",
        "ğŸ¥Š å¯„ç”Ÿç‰›ç‰›å¤§æˆ˜ï¼ä½ æˆåŠŸéœ¸å äº† {host_name}ï¼Œ{old_beneficiary_name} è¢«æ‰«åœ°å‡ºé—¨ï¼",
    ]

    # æŠ½å–è§¦å‘æ–‡æ¡ˆ
    DRAIN_TEXTS = [
        "ğŸ©¸ {host_name} å¢é•¿äº†{gain}cmï¼Œå¯„ç”Ÿç‰›ç‰›ç”Ÿæ•ˆï¼{beneficiary_name} å¸å–äº† {drain_length}cmé•¿åº¦ å’Œ {drain_hardness}ç¡¬åº¦ï¼",
        "ğŸ˜‹ {beneficiary_name} çš„å¯„ç”Ÿç‰›ç‰›ä» {host_name} èº«ä¸Šå¸å–äº† {drain_length}cm å’Œ {drain_hardness}ç¡¬åº¦ï¼",
        "ğŸ”‹ å¯„ç”Ÿç‰›ç‰›å……èƒ½ï¼{host_name} è¢«æŠ½å– {drain_length}cmé•¿åº¦ã€{drain_hardness}ç¡¬åº¦ â†’ {beneficiary_name}ï¼",
    ]

    # é©±ç‰›è¯æˆåŠŸæ–‡æ¡ˆ
    CURE_TEXTS = [
        "ğŸ’Š é©±ç‰›è¯ç”Ÿæ•ˆï¼å¯„ç”Ÿåœ¨ä½ èº«ä¸Šçš„å¯„ç”Ÿç‰›ç‰›è¢«æ¸…é™¤äº†ï¼",
        "ğŸ‰ ä½ æˆåŠŸé©±é™¤äº†å¯„ç”Ÿç‰›ç‰›ï¼é‡è·è‡ªç”±ï¼",
        "âœ¨ å¯„ç”Ÿç‰›ç‰›å·²è¢«è¯ç‰©æ¸…é™¤ï¼Œä½ çš„ç‰›ç‰›æ¢å¤äº†ç‹¬ç«‹ï¼",
    ]

    # æ²¡æœ‰å¯„ç”Ÿç‰›ç‰›æ—¶ä½¿ç”¨é©±ç‰›è¯
    NO_PARASITE_TEXTS = [
        "â“ ä½ èº«ä¸Šå¹¶æ²¡æœ‰å¯„ç”Ÿç‰›ç‰›ï¼Œä¸éœ€è¦ä½¿ç”¨é©±ç‰›è¯ï¼",
        "ğŸ¤· æµªè´¹äº†ï¼ä½ èº«ä¸Šæ ¹æœ¬æ²¡æœ‰å¯„ç”Ÿç‰›ç‰›ï¼",
        "ğŸ’¸ é’±ç™½èŠ±äº†...ä½ æœ¬æ¥å°±æ˜¯è‡ªç”±çš„ï¼",
    ]

# =============================================================================
# ç‰›ç‰›å‡å¯Œ/è´Ÿå¡ Configuration
# =============================================================================
class JunfukaConfig:
    MIN_PLAYERS = 3                    # æœ€å°‘éœ€è¦3äººæ‰èƒ½è§¦å‘

    # å¼€åœºæ–‡æ¡ˆ
    OPENING_TEXTS = [
        "â˜­ â•â• ç‰›ç‰›å‡å¯Œ/è´Ÿå¡ â•â• â˜­",
        "ğŸš© ã€Œä¸æ‚£å¯¡è€Œæ‚£ä¸å‡ï¼ã€",
        "ğŸ“¢ å…¨ç¾¤ç‰›ç‰›é•¿åº¦å³å°†é‡æ–°åˆ†é…ï¼",
    ]

    # å¤§ä½¬å—æŸæ–‡æ¡ˆ
    LOSER_TEXTS = [
        "ğŸ˜­ {name} ä» {old}â†’{new}ï¼Œè¡€äº {diff}ï¼å¤§ä½¬å“­æ™•åœ¨å•æ‰€ï¼",
        "ğŸ’” {name} ç—›å¤± {diff}ï¼ä» {old} è·Œè½åˆ° {new}ï¼",
        "ğŸ”» {name} è¢«å‡å¯Œï¼{old}â†’{new}ï¼Œè´¡çŒ®äº† {diff}ï¼",
        "ğŸ˜± {name} å“­äº†ï¼{diff} çš„é•¿åº¦è¢«å……å…¬ï¼{old}â†’{new}",
    ]

    # è´Ÿæ•°/å°å·å—ç›Šæ–‡æ¡ˆ
    WINNER_TEXTS = [
        "ğŸ‰ {name} ä» {old}â†’{new}ï¼Œç™½å«– {diff}ï¼è´Ÿæ•°ç‹‚å–œï¼",
        "ğŸš€ {name} é€†è¢­ï¼ä» {old} é£å‡åˆ° {new}ï¼+{diff}ï¼",
        "ğŸ”º {name} èººèµ¢ï¼{old}â†’{new}ï¼Œå–œæ {diff}ï¼",
        "ğŸ¥³ {name} ç¬‘äº†ï¼å‡å¯Œåå–œè· {diff}ï¼{old}â†’{new}",
    ]

    # ä¸å˜æ–‡æ¡ˆ
    NEUTRAL_TEXTS = [
        "ğŸ˜ {name} çº¹ä¸ä¸åŠ¨...åˆšå¥½æ˜¯å¹³å‡å€¼ï¼Ÿ",
        "ğŸ¤· {name} ä¸äºä¸èµšï¼Œ{old}â†’{new}",
    ]

    # ç»“å°¾æ–‡æ¡ˆ
    ENDING_TEXTS = [
        "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "â˜­ å‡å¯Œå®Œæˆï¼ä»Šå¤©ï¼Œç‰›ç‰›å¹³ç­‰ï¼",
    ]

# =============================================================================
# Length Display Thresholds
# =============================================================================
LENGTH_METER_THRESHOLD = 100       # Display in meters when >= 100cm

# =============================================================================
# Evaluation Thresholds
# =============================================================================
class EvaluationThresholds:
    SHORT = 12
    MEDIUM = 25
    LONG = 50
    VERY_LONG = 100
    SUPER_LONG = 200
    # >= SUPER_LONG = ultra_long


# =============================================================================
# Length Formatting Utility
# =============================================================================
def format_length(length: float, show_sign: bool = False) -> str:
    """
    æ ¼å¼åŒ–é•¿åº¦æ˜¾ç¤ºï¼Œè‡ªåŠ¨è½¬æ¢å•ä½

    Args:
        length: é•¿åº¦å€¼ï¼ˆcmï¼‰
        show_sign: æ˜¯å¦æ˜¾ç¤ºæ­£å·ï¼ˆç”¨äºå˜åŒ–é‡ï¼‰

    Returns:
        æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ï¼Œå¦‚ "15cm", "1.50m", "2.30km", "-500m (å‡¹)"
    """
    abs_length = abs(length)
    is_negative = length < 0

    # ç¡®å®šå•ä½å’Œæ•°å€¼
    if abs_length >= 100000:  # >= 1km
        value = abs_length / 100000
        unit = "km"
    elif abs_length >= 100:  # >= 1m
        value = abs_length / 100
        unit = "m"
    else:
        value = abs_length
        unit = "cm"

    # æ ¼å¼åŒ–æ•°å€¼
    if unit == "cm":
        # cm ä¿æŒæ•´æ•°æˆ–ä¸€ä½å°æ•°
        if value == int(value):
            num_str = f"{int(value)}"
        else:
            num_str = f"{value:.1f}"
    else:
        # m/km ä¿æŒä¸¤ä½å°æ•°
        num_str = f"{value:.2f}"

    # æ„å»ºç»“æœ
    if is_negative:
        result = f"-{num_str}{unit} (å‡¹)"
    elif length == 0:
        result = "0cm (æ— )"
    else:
        if show_sign:
            result = f"+{num_str}{unit}"
        else:
            result = f"{num_str}{unit}"

    return result


def format_length_change(change: float) -> str:
    """
    æ ¼å¼åŒ–é•¿åº¦å˜åŒ–é‡ï¼ˆæ€»æ˜¯æ˜¾ç¤ºæ­£è´Ÿå·ï¼‰

    Args:
        change: å˜åŒ–é‡ï¼ˆcmï¼‰

    Returns:
        æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ï¼Œå¦‚ "+15cm", "-1.50m"
    """
    if change >= 0:
        return format_length(change, show_sign=True)
    else:
        # è´Ÿæ•°å˜åŒ–ï¼Œformat_lengthä¼šåŠ (å‡¹)ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦
        abs_change = abs(change)
        if abs_change >= 100000:
            return f"-{abs_change/100000:.2f}km"
        elif abs_change >= 100:
            return f"-{abs_change/100:.2f}m"
        else:
            if abs_change == int(abs_change):
                return f"-{int(abs_change)}cm"
            return f"-{abs_change:.1f}cm"
