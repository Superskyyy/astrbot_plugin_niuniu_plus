# 牛牛大作战 Plus

> 基于 [astrbot_plugin_niuniu](https://github.com/zgojin/astrbot_plugin_niuniu) 重构，感谢原作者 **zgojin** 的创意与贡献！

一个有趣的群聊互动插件，包含牛牛养成、对战、商城、股市等丰富玩法。

**800+ 条趣味文案**，让每次互动都充满惊喜！

## 快速开始

安装插件后，在群内发送 `牛牛菜单` 或 `牛牛帮助` 查看所有指令。

## 指令一览

| 指令 | 说明 |
|------|------|
| `注册牛牛` | 初始化你的牛牛（1-10cm随机） |
| `打胶` | 锻炼牛牛，可能增长或缩短 |
| `我的牛牛` | 查看当前状态 |
| `比划比划 @目标 [金额]` | 发起对决，可下注10-10000金币 |
| `开团` | 群内乱斗（不@为全群，@人指定至少3人） |
| `牛牛排行` | 查看群内排行榜 |
| `牛牛商城` | 浏览道具商城 |
| `牛牛购买 编号 [数量]` | 购买道具 |
| `牛牛背包` | 查看已有道具 |
| `牛牛股市` | 妖牛股交易系统 |
| `开冲` / `停止开冲` | 挂机赚金币（3次/天，最长12小时） |
| `飞飞机` | 随机事件，有惊喜有风险 |
| `牛牛开` / `牛牛关` | 管理员开关插件 |
| `牛牛补贴 @用户 长度 硬度 金币` | 管理员补贴/扣除属性 |

## 核心玩法

### 打胶机制

- **10分钟内**：冷却中，无法打胶
- **10-30分钟**：越早打胶失败率越高
- **30分钟后**：正常判定

### 比划对决

- 胜率由长度和硬度（隐藏属性）共同决定
- 基础胜率 50% ± 长度影响(30%) ± 硬度影响(20%)
- 最终胜率范围：20%-80%
- 可下注 10-10000 金币，赢家获得 1.8 倍赌注

### 经济系统

| 来源 | 频率 | 收益 |
|------|------|------|
| 开冲 | 3次/天，每次最长12小时 | 基础600 + 时长奖励，满冲约900-1000/次 |
| 飞飞机 | 2小时冷却 | -200 ~ +400（有风险） |

**每日收益预估**：约 3000 金币/天

### 牛牛股市

全新妖牛股交易系统，股价随游戏事件剧烈波动：

| 事件类型 | 波动幅度 |
|----------|----------|
| 打胶 | 0.5%-2% |
| 比划 | 1%-5% |
| 道具 | 2%-8% |
| 混沌风暴 | 5%-20% |
| 全局事件 | 10%-30% |

指令：`牛牛股市`、`牛牛股市 购买 <金额>`、`牛牛股市 出售 [数量/全部]`、`牛牛股市 持仓`

## 商城道具

### 增益类

| 道具 | 价格 | 效果 |
|------|------|------|
| 巴黎牛家 | 200 | +10硬度，随机-1~10%长度 |
| 致命节奏 x5 | 100 | 无连续打胶debuff |
| 小蓝片 | 200 | 下次比划硬度视为100 |

### 进攻类

| 道具 | 价格 | 效果 |
|------|------|------|
| 淬火爪刀 | 100 | 掠夺时额外+10%长度和硬度 |
| 劫富济贫 | 600 | 抢首富50%长度+20%硬度，分给随机3人 |
| 月牙天冲 | 300 | 随机群友，双方损失你50%长度 |
| 牛牛大自爆 | 250 | 自己归零，伤害分摊到top3 |
| 牛牛黑洞 | 300 | 吸取5-15人各3-10%长度，结果随机 |
| 牛牛寄生 | 150 | 寄生指定群友，宿主增长>5%时抽取5% |

### 防御类

| 道具 | 价格 | 效果 |
|------|------|------|
| 妙脆角 | 70 | 防止一次长度减半 |
| 牛牛盾牌 | 500 | 3层护盾（购买时扣50%长度和硬度） |
| 祸水东引 | 250 | 转嫁>=50cm伤害给随机群友 |
| 上保险 | 1000 | 10次理赔，损失>=50cm或硬度>=10赔200金币 |
| 驱牛药 | 75 | 清除身上的寄生牛牛 |

### 娱乐/特殊类

| 道具 | 价格 | 效果 |
|------|------|------|
| 穷牛一生 | 25 | 随机盲盒 |
| 赌徒硬币 | 50 | 50%翻倍/48%减半/1%×4/1%×-2 |
| 混沌风暴 | 500 | 随机10人触发奇怪事件 |
| 夺牛魔蝌蚪罐头 | 600 | 50%夺全部/20%混沌/20%大自爆/10%归零 |
| 牛牛均富/负卡 | 1888 | 全群长度和硬度取平均值 |
| 绝对值！ | 动态 | 负数牛牛花费 \|长度\|×0.1 金币翻正 |

## 护盾机制详解

**牛牛盾牌**（500金币，3层）
- 完全免疫：劫富济贫、混沌风暴负面、月牙天冲、被别人大自爆
- 减伤：夺牛魔每层减10%伤害

**祸水东引**（250金币，1次）
- 受到>=50cm伤害时转嫁给随机群友
- 无法转移夺牛魔的伤害

**上保险**（1000金币，10次）
- 损失>=50cm 或 >=10硬度 时赔付200金币
- 自残类道具不赔

## 寄生系统

- `牛牛购买 18 @目标` 在目标身上种下寄生牛牛
- 宿主每次增长超过自身5%时，抽取5%长度+5%硬度给寄生者
- 支持链式反应（A→B→C递归触发）
- 宿主可购买**驱牛药**清除寄生

## 反馈与支持

有问题或建议请提交 [Issues](https://github.com/Superskyyy/astrbot_plugin_niuniu_plus/issues) 或 @Superskyyy

## License

MIT License
